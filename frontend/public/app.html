<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Primary Meta Tags -->
    <title>MKV Mender Web App - Rename Files Online with Hash Lookup 2025</title>
    <meta name="title" content="MKV Mender Web App - Rename Files Online with Hash Lookup 2025">
    <meta name="description" content="Use MKV Mender in your browser to search for file names by hash, submit new community names, and vote on submissions. No installation required. Free web interface for media file organization with real-time search.">
    <meta name="author" content="MKV Mender Community">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://mkvmender.com/app.html">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mkvmender.com/app.html">
    <meta property="og:title" content="MKV Mender Web App - Rename Files Online">
    <meta property="og:description" content="Use MKV Mender in your browser. Search for file names, submit new names, vote on community submissions. No installation required.">
    <meta property="og:image" content="https://mkvmender.com/og-image-app.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="MKV Mender">
    <meta property="og:locale" content="en_US">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://mkvmender.com/app.html">
    <meta name="twitter:title" content="MKV Mender Web App - Rename Files Online">
    <meta name="twitter:description" content="Use MKV Mender in your browser. Search for file names, submit new names, vote on community submissions. No installation required.">
    <meta name="twitter:image" content="https://mkvmender.com/og-image-app.png">

    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

    <!-- Theme Color -->
    <meta name="theme-color" content="#2563eb">

    <link rel="stylesheet" href="/css/output.css">

    <!-- Breadcrumb Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://mkvmender.com/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Web App",
          "item": "https://mkvmender.com/app.html"
        }
      ]
    }
    </script>
</head>
<body class="min-h-screen flex flex-col">
    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-bg/80 backdrop-blur-lg border-b border-border">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <a href="/" class="flex items-center gap-2 hover:opacity-80 transition-opacity">
                    <span class="text-3xl">ðŸŽ¬</span>
                    <span class="text-2xl font-bold gradient-text">MKV Mender</span>
                </a>

                <div class="flex items-center gap-4">
                    <a id="download-btn" href="#" class="hidden sm:inline-flex btn btn-secondary btn-sm" download>
                        <span id="download-text">Download</span>
                    </a>
                    <a href="https://github.com/quentinsteinke/mkvmender/releases" class="hidden sm:inline-block text-text-secondary hover:text-text transition-colors text-sm" target="_blank">All platforms</a>
                    <button id="admin-panel-btn" class="hidden btn btn-secondary btn-sm">Admin Panel</button>
                    <button id="search-panel-btn" class="hidden btn btn-secondary btn-sm">Search</button>
                    <button id="login-btn" class="btn btn-secondary btn-sm">Login</button>
                    <button id="logout-btn" class="btn btn-secondary btn-sm hidden">Logout</button>
                </div>
            </div>
        </div>
    </nav>

    <main class="flex-1 max-w-7xl w-full mx-auto px-6 py-8">
        <!-- Login Section -->
        <section id="login-section" class="max-w-2xl mx-auto">
            <div class="card animate-fade-in">
                <h2 class="text-3xl font-bold mb-4">Login</h2>
                <p class="text-text-secondary mb-4">Enter your API key to get started. Don't have one? <a href="/docs.html#authentication" class="text-primary hover:underline" title="Learn how to register">Register using the CLI tool</a>:</p>
                <div class="code-block mb-6">mkvmender register</div>
                <p class="text-text-secondary text-sm mb-6">Need help? Check our <a href="/docs.html#quick-start" class="text-primary hover:underline" title="Installation and setup guide">quick start guide</a> or read the <a href="/docs.html" class="text-primary hover:underline" title="Full documentation">full documentation</a>.</p>

                <form id="login-form" class="space-y-6">
                    <div>
                        <label for="api-key" class="block text-sm font-medium mb-2">API Key</label>
                        <input type="password" id="api-key" class="input" placeholder="Enter your API key" required>
                    </div>
                    <button type="submit" class="btn btn-primary btn-md w-full">Login</button>
                </form>
                <div id="login-error" class="hidden mt-4 bg-error-bg border border-error text-error px-4 py-3 rounded-lg"></div>
            </div>
        </section>

        <!-- Search Section -->
        <section id="search-section" class="hidden">
            <div class="card mb-8 animate-fade-in">
                <h2 class="text-3xl font-bold mb-4">Search Database</h2>
                <p class="text-text-secondary mb-6">Search for movies and TV shows in the community database. Prefer the <a href="/docs.html#commands" class="text-primary hover:underline" title="CLI command reference">command line</a>? Check out our <a href="/docs.html#advanced" class="text-primary hover:underline" title="Batch processing guide">CLI tool for batch processing</a>.</p>

                <form id="search-form" class="space-y-6">
                    <div>
                        <input type="text" id="search-query" class="input" placeholder="Search for a title..." required>
                    </div>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <label class="flex items-center gap-2 text-text-secondary">
                            <input type="checkbox" id="fuzzy-search" checked class="w-4 h-4 rounded border-border bg-bg-tertiary text-primary focus:ring-2 focus:ring-primary">
                            <span>Fuzzy matching (tolerates typos)</span>
                        </label>
                        <select id="sort-by" class="input sm:w-auto">
                            <option value="relevance">Sort by: Relevance</option>
                            <option value="votes">Sort by: Votes</option>
                            <option value="date">Sort by: Date</option>
                            <option value="title">Sort by: Title</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary btn-md">Search</button>
                </form>
            </div>

            <!-- Results Section -->
            <div id="results-container" class="hidden">
                <h3 id="results-title" class="text-2xl font-bold mb-6"></h3>
                <div id="results-list" class="space-y-6"></div>
            </div>

            <div id="search-error" class="hidden mt-4 bg-error-bg border border-error text-error px-4 py-3 rounded-lg"></div>
        </section>

        <!-- Admin Section -->
        <section id="admin-section" class="hidden">
            <div class="card mb-8 animate-fade-in">
                <h2 class="text-3xl font-bold mb-6">Admin Panel</h2>

                <!-- Admin Tabs -->
                <div class="admin-tabs flex gap-2 border-b border-border mb-6">
                    <button id="tab-submissions" class="admin-tab active px-6 py-3 font-medium transition-colors">
                        Submissions
                    </button>
                    <button id="tab-users" class="admin-tab px-6 py-3 font-medium transition-colors">
                        Users
                    </button>
                </div>

                <!-- Stats Cards -->
                <div id="admin-stats" class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                    <div class="card bg-bg-secondary">
                        <div class="text-text-muted text-sm mb-1">Total Users</div>
                        <div id="stat-total-users" class="text-2xl font-bold gradient-text">-</div>
                    </div>
                    <div class="card bg-bg-secondary">
                        <div class="text-text-muted text-sm mb-1">Active Users</div>
                        <div id="stat-active-users" class="text-2xl font-bold text-success">-</div>
                    </div>
                    <div class="card bg-bg-secondary">
                        <div class="text-text-muted text-sm mb-1">Total Submissions</div>
                        <div id="stat-submissions" class="text-2xl font-bold text-primary">-</div>
                    </div>
                    <div class="card bg-bg-secondary">
                        <div class="text-text-muted text-sm mb-1">Total Votes</div>
                        <div id="stat-votes" class="text-2xl font-bold text-text">-</div>
                    </div>
                </div>

                <!-- Submissions Tab -->
                <div id="admin-submissions-tab">
                    <div class="flex flex-col sm:flex-row gap-4 mb-6">
                        <select id="submissions-sort" class="input sm:w-auto">
                            <option value="date">Sort by: Date (newest)</option>
                            <option value="votes">Sort by: Votes</option>
                            <option value="title">Sort by: Title</option>
                        </select>
                        <button id="refresh-submissions-btn" class="btn btn-secondary btn-sm">Refresh</button>
                    </div>

                    <div id="submissions-table-container">
                        <div id="submissions-loading" class="text-center py-12 text-text-muted">
                            Loading submissions...
                        </div>
                        <div id="submissions-list" class="hidden space-y-2"></div>
                    </div>

                    <!-- Pagination -->
                    <div id="submissions-pagination" class="hidden flex items-center justify-between mt-6">
                        <div class="text-sm text-text-secondary">
                            <span id="submissions-showing">Showing 1-50 of 100</span>
                        </div>
                        <div class="flex gap-2">
                            <button id="submissions-prev-btn" class="btn btn-secondary btn-sm" disabled>Previous</button>
                            <button id="submissions-next-btn" class="btn btn-secondary btn-sm">Next</button>
                        </div>
                    </div>
                </div>

                <!-- Users Tab -->
                <div id="admin-users-tab" class="hidden">
                    <div class="flex flex-col sm:flex-row gap-4 mb-6">
                        <select id="users-role-filter" class="input sm:w-auto">
                            <option value="">All Roles</option>
                            <option value="admin">Admin</option>
                            <option value="moderator">Moderator</option>
                            <option value="user">User</option>
                        </select>
                        <select id="users-status-filter" class="input sm:w-auto">
                            <option value="">All Status</option>
                            <option value="active">Active</option>
                            <option value="suspended">Suspended</option>
                        </select>
                        <button id="refresh-users-btn" class="btn btn-secondary btn-sm">Refresh</button>
                    </div>

                    <div id="users-table-container">
                        <div id="users-loading" class="text-center py-12 text-text-muted">
                            Loading users...
                        </div>
                        <div id="users-list" class="hidden space-y-2"></div>
                    </div>

                    <!-- Pagination -->
                    <div id="users-pagination" class="hidden flex items-center justify-between mt-6">
                        <div class="text-sm text-text-secondary">
                            <span id="users-showing">Showing 1-50 of 100</span>
                        </div>
                        <div class="flex gap-2">
                            <button id="users-prev-btn" class="btn btn-secondary btn-sm" disabled>Previous</button>
                            <button id="users-next-btn" class="btn btn-secondary btn-sm">Next</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="admin-error" class="hidden mt-4 bg-error-bg border border-error text-error px-4 py-3 rounded-lg"></div>
        </section>
    </main>

    <!-- Modals -->
    <div id="delete-submission-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3 class="text-xl font-bold mb-4">Delete Submission</h3>
            <p class="text-text-secondary mb-4">Are you sure you want to delete this submission? This action cannot be undone.</p>
            <div class="mb-4">
                <label class="block text-sm font-medium mb-2">Reason (optional)</label>
                <textarea id="delete-submission-reason" class="input" rows="3" placeholder="Reason for deletion..."></textarea>
            </div>
            <div class="flex gap-3 justify-end">
                <button id="cancel-delete-submission" class="btn btn-secondary btn-sm">Cancel</button>
                <button id="confirm-delete-submission" class="btn btn-primary btn-sm">Delete</button>
            </div>
        </div>
    </div>

    <div id="change-role-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3 class="text-xl font-bold mb-4">Change User Role</h3>
            <p class="text-text-secondary mb-4">Select the new role for <strong id="change-role-username"></strong>:</p>
            <div class="mb-4">
                <select id="change-role-select" class="input">
                    <option value="user">User</option>
                    <option value="moderator">Moderator</option>
                    <option value="admin">Admin</option>
                </select>
            </div>
            <div class="flex gap-3 justify-end">
                <button id="cancel-change-role" class="btn btn-secondary btn-sm">Cancel</button>
                <button id="confirm-change-role" class="btn btn-primary btn-sm">Change Role</button>
            </div>
        </div>
    </div>

    <div id="change-status-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3 class="text-xl font-bold mb-4">Change User Status</h3>
            <p class="text-text-secondary mb-4">Are you sure you want to <strong id="change-status-action"></strong> <strong id="change-status-username"></strong>?</p>
            <div class="mb-4">
                <label class="block text-sm font-medium mb-2">Reason (optional)</label>
                <textarea id="change-status-reason" class="input" rows="3" placeholder="Reason for status change..."></textarea>
            </div>
            <div class="flex gap-3 justify-end">
                <button id="cancel-change-status" class="btn btn-secondary btn-sm">Cancel</button>
                <button id="confirm-change-status" class="btn btn-primary btn-sm"></button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="hidden fixed bottom-6 right-6 bg-bg-secondary border border-border px-6 py-4 rounded-lg shadow-xl z-50 animate-slide-up">
        <div class="flex items-center gap-3">
            <span id="toast-icon"></span>
            <span id="toast-message" class="font-medium"></span>
        </div>
    </div>

    <footer class="border-t border-border py-8 mt-auto">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex flex-col md:flex-row justify-center items-center gap-4 md:gap-8 text-text-secondary text-sm">
                <span>MKV Mender - Open Source</span>
                <a href="/" class="text-primary hover:underline" title="MKV Mender homepage">Home</a>
                <a href="/docs.html" class="text-primary hover:underline" title="Complete documentation">Documentation</a>
                <a href="/docs.html#installation" class="text-primary hover:underline" title="Download CLI tool">Download CLI</a>
                <a href="https://github.com/quentinsteinke/mkvmender" target="_blank" rel="noopener" class="text-primary hover:underline" title="View source code">GitHub</a>
                <a href="https://github.com/quentinsteinke/mkvmender/discussions" target="_blank" rel="noopener" class="text-primary hover:underline" title="Community discussions">Discussions</a>
            </div>
            <p class="text-center text-text-muted text-xs mt-4">
                Â© 2025 MKV Mender. Released under the MIT License.
            </p>
        </div>
    </footer>

    <script src="/js/admin.js"></script>
    <script src="/js/app.js"></script>
</body>
</html>
